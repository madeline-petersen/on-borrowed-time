@import '../variables/breakpoints';

.timeline {
  position: absolute;
  top: 0;
  left: 3.75rem; // margin-left: 3rem + padding-left: 12px
  z-index: 20;

  @media screen and (max-width: $xl-minus-1) {
    left: 70px; // margin-left: 58px + padding-left: 12px
  }

  @media screen and (max-width: $lg-minus-1) {
    display: none; // do not display timeline below large breakpoint
  }

  &__years {
    bottom: 6px;
  }

  &__scenes {
    // scene timeline
    margin-left: -1px; // move scene timeline onto year timeline

    .circle-container {
      position: absolute;
      left: -7px; // move circle onto timeline
      margin-top: 1px;
      width: 13px;
      height: 13px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0); // transparent
    }

    .circle {
      position: absolute;
      left: -7px; // move circle onto timeline
      width: 13px;
      height: 13px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0); // transparent

      &.current-scene {
        background-color: rgba(255, 255, 255, 1); // opaque

        &.gray-30 {
          background-color: #bcb9b6;
        }

        &.red {
          background-color: #68120c;
        }

        &.blue-50 {
          background-color: #003778;
        }

        &.yellow {
          background-color: #e8e5d2;
        }

        &.purple {
          background-color: #9c8cb5;
        }

        &.brown {
          background-color: #936753;
        }
      }
    }

    .dot {
      position: absolute;
      background-color: white;
      border-radius: 50%;
      height: 5px;
      width: 5px;
      left: 4px;
      top: -1px;

      .scene-title {
        opacity: 0;
        transition: opacity 0.5s;
        pointer-events: none;
        top: -5px;
      }

      &:hover {
        .scene-title {
          opacity: 1;
          transition: opacity 0.5s;
        }
      }

      &.gray-30 {
        background-color: #bcb9b6;
      }

      &.red {
        background-color: #68120c;
      }

      &.blue-50 {
        background-color: #003778;
      }

      &.yellow {
        background-color: #e8e5d2;
      }

      &.purple {
        background-color: #9c8cb5;
      }

      &.brown {
        background-color: #936753;
      }
    }

    &.collapsed {
      padding-bottom: 0;
      border-color: rgba(255, 255, 255, 0); // transparent left border
      transition: padding-bottom 1s, border-color 1s, color 0.5s,
        background-color 0.5s; // collapse timeline and fade out

      .circle {
        background-color: rgba(255, 255, 255, 0); // white, transparent
      }

      .dot {
        opacity: 0; // disappear dot on collapse
      }
    }

    &.expanded {
      transition: padding-bottom 1s, border-color 0.5s, color 0.5s,
        background-color 0.5s; // expand timeline animation

      .dot {
        transition: opacity 0.5s 1s;
      }

      &.num-scenes-1 {
        padding-bottom: calc(1 * 24px);
      }
      &.num-scenes-2 {
        padding-bottom: calc(2 * 24px);
      }
      &.num-scenes-3 {
        padding-bottom: calc(3 * 24px);
      }
      &.num-scenes-4 {
        padding-bottom: calc(4 * 24px);
      }
      &.num-scenes-5 {
        padding-bottom: calc(5 * 24px);
      }
      &.num-scenes-6 {
        padding-bottom: calc(6 * 24px);
      }
      &.num-scenes-7 {
        padding-bottom: calc(7 * 24px);
      }
      &.num-scenes-8 {
        padding-bottom: calc(8 * 24px);
      }
    }
  }

  .circle {
    &.show {
      opacity: 0.5;
      transition: opacity 0s 1s, background-color 1s, color 0.5s; // delay appearance of circle, fade circle in
    }

    &.hide {
      opacity: 0;
    }
  }
}

.timeline {
  border-left-width: 1px;
  border-color: rgba(255, 255, 255, 0.15); // white, opacity 0.15
  transition: border-color 0.5s;

  &.image-background {
    border-color: rgba(255, 255, 255, 0.3);
  }

  &.gray-30 {
    border-color: rgba(188, 185, 182, 0.15);
  }

  &.red {
    border-color: rgba(110, 14, 14, 0.15);
  }

  &.blue-50 {
    border-color: rgba(37, 82, 142, 0.15);
  }

  &.yellow {
    border-color: rgba(232, 229, 210, 0.15);
  }

  &.purple {
    border-color: rgba(156, 140, 181, 0.15);
  }

  &.brown {
    border-color: rgba(147, 103, 83, 0.15);
  }
}

.timeline__scenes {
  border-left-width: 1px;
  border-color: rgba(255, 255, 255, 1); // white, opaque

  &.gray-30 {
    border-color: rgba(188, 185, 182, 1);
  }

  &.red {
    border-color: rgba(110, 14, 14, 1);
  }

  &.blue-50 {
    border-color: rgba(37, 82, 142, 1);
  }

  &.yellow {
    border-color: rgba(232, 229, 210, 1);
  }

  &.purple {
    border-color: rgba(156, 140, 181, 1);
  }

  &.brown {
    border-color: rgba(147, 103, 83, 1);
  }
}
